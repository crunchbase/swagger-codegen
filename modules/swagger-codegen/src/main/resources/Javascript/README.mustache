# Crunchbase API Client

This code was auto-generated using a fork of the Swagger-Codegen project, available [here](https://github.com/crunchbase/swagger-codegen). It is based on the [v4 API spec](https://github.com/crunchbase/api-spec/tree/data_exchange). 

## Getting Started

1. Import the module:

```
var CrunchbaseApi = require('./path/to/api.js');
```

2. Instantiate a new `CrunchbaseApi`. The constructor takes a base URL parameter, which is required.

```
const api = new CrunchbaseApi('https://uat.crunchbase.com');
```

3. Make a request. `CrunchbaseApi` has a method corresponding to every endpoint. For example:

```
// GET /data/entities/{collection_id}/{entity_id}
api.getDataEntitiesCollectionIdEntityId('organizations', 'apple');
```

See [Endpoints](#endpoints) for a complete list of request methods.

4. Do stuff with the response: 

```
api
.getDataEntitiesCollectionIdEntityId('organizations', 'apple')
.then(function(response) {
  console.log(response.statusCode);
});
```

`CrunchbaseApi` methods return Promises that resolve with `http.IncomingMessage` objects. To see what methods and properties are available for parsing the response, refer to [this documentation](https://nodejs.org/api/http.html#http_class_http_incomingmessage).

### Authorization

Some requests may require authorization headers. The API client will keep track of user session for you, and add these headers when available. Start by logging in:

```
api.postCbSessions({
  email: 'foo@bar.co',
  password: 'foobar'
});
```

Now, you can make authorized requests:

```
api.postDataEntities({
  entity: {
    temp_id: '1234',
    entity_def_id: 'organization',
    operation: 'create',
    facet_ids: {
      add: [ 'company' ]
    },
    properties: {
      name: 'Business Systems Co., Inc.'
    }
  }
});
```

POST and DELETE requests to the /cb/sessions endpoint will update the `CrunchbaseApi.session` property accordingly.

## Endpoints

{{#apiInfo}}{{#apis}}{{#operations}}{{#operation}}
#### {{nickname}}({{#allParams}}{{paramName}}{{#hasMore}}, {{/hasMore}}{{/allParams}})

{{#hasParams}}
Param | Type | Description
---- | ---- | ----
{{/hasParams}}
{{#allParams}}
{{paramName}} | {{=<% %>=}}<% dataType %><%={{ }}=%> | {{description}}
{{/allParams}}

{{/operation}}{{/operations}}{{/apis}}{{/apiInfo}}
